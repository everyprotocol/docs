A **Set** is an object from which other objects are created. Sets define the shared origin, logic, and lineage of object groups, anchoring their identity and governance.

All sets originate from the **Set of Sets**, which is governed by the **Set Registry** contract. The Set of Sets itself is considered to have been created from its own structure.

Each set conforms to the **Kind of Set**, which defines the structure, interactions, and asset computations of set objects.

## Metadata

The metadata of a set object contains essential information about its type and versioning.

| Field     | Value                   | Description                              |
|-----------|-------------------------|------------------------------------------|
| `flags`   | `0`                     | Status flags (reserved for future use)   |
| `rev`     | `1`                     | Current revision number                  |
| `kindRev` | `latestKindOfSet()`     | Revision of the Kind of Set              |
| `setRev`  | `latestSetOfSet()`      | Revision of the Set of Set               |
| `kind`    | `ID_KIND_OF_SET`        | Kind ID (always points to Kind of Set)   |
| `set`     | `ID_SET_OF_SET`         | Set ID (always points to Set of Set)     |

## Creation

Set objects are created during registration and are initialized with a unique ID and default metadata.

### ID

**Original sets** are assigned fixed IDs:

```solidity
uint64 constant ID_SET_OF_SPACE     = 0;
uint64 constant ID_SET_OF_SET       = 1;
uint64 constant ID_SET_OF_KIND      = 2;
uint64 constant ID_SET_OF_RELATION  = 3;
uint64 constant ID_SET_OF_TRANSFORM = 4;
```

**Emergent sets** are dynamically assigned from this range:

```solidity
uint64 constant ID_SET_EMERGENT_MIN = 17;
uint64 constant ID_SET_EMERGENT_MAX = type(uint56).max;
```

> Set IDs must be ≤ `2^56 - 1`, with the upper 8 bits reserved for category metadata.

## Elements

Each set has **2 elements**, defined by the **Kind of Set**.

| Index | Element   | Mutable | Description                                              |
|-------|-----------|---------|----------------------------------------------------------|
| `0`   | `law`     | No      | Address of the set contract                              |
| `1`   | `lineage` | Yes     | Shared data for all objects minted from this set         |

### `law`

The `law` element stores the address of the set contract. On EVM chains, this is typically encoded as:

```solidity
bytes32 law = bytes32(uint160(addr));
```

### `lineage`

The `lineage` element contains shared metadata (usually in JSON format) for all objects created from this set. For example:

```json
{
  "name": "Example Set",
  "description": "A sample set for demo purposes",
  "image": "ipfs://..."
}
```

---

## Operations

Set objects support the following **unary operations**:

| Operation | Description                 | Fields Affected                                |
|-----------|-----------------------------|------------------------------------------------|
| `transfer`| Transfer ownership          | `owner`                                        |
| `update`  | Modify shared lineage       | `meta.rev`, `elems.lineage`                    |
| `upgrade` | Apply new kind/set revision | `meta.rev`, `meta.kindRev`, `meta.setRev`      |
| `touch`   | Increment revision only     | `meta.rev`                                     |

> Inter-object operations (such as `relate`, `move`, etc.) do **not** apply to sets.

---

## Summary

Sets provide the foundation for **minting, structure, and shared identity** in Every Protocol. They determine how objects are grouped, governed, and composed — enabling a modular and collaborative creation system.
